<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <meta
      name="description"
      content="A platform for property owners to directly submit their listings for review and publication on El Marakibji Properties."
    />
    <meta name="theme-color" content="#008C8C" />
    <title>By Owner</title>

    <!-- Icons / PWA bits (keep your existing files in repo) -->
    <link rel="icon" type="image/svg+xml" href="./icon.svg" />
    <link rel="apple-touch-icon" href="./icon.svg" />
    <link rel="manifest" href="./manifest.json" />

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "brand-primary": "#212121",
              "brand-secondary": "#008C8C",
              "brand-light": "#F5F4F0",
              "brand-dark": "#006666",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Inter:wght@400;500;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- React & ReactDOM UMD -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>

    <!-- Babel for JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="bg-brand-light font-sans">
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <div id="root">
      <!-- Fallback loading state -->
      <div
        style="
          height: 100vh;
          display: flex;
          justify-content: center;
          align-items: center;
          color: #008c8c;
          font-family: sans-serif;
        "
      >
        Loading application...
      </div>
    </div>

    <!-- Our whole app lives here -->
    <script type="text/babel" data-presets="env,react">
      const { useState } = React;

      function App() {
        const [submissions, setSubmissions] = useState([]);
        const [form, setForm] = useState({
          ownerName: "",
          phone: "",
          propertyType: "",
          location: "",
          price: "",
          bedrooms: "",
          bathrooms: "",
          notes: "",
        });

        const handleChange = (e) => {
          const { name, value } = e.target;
          setForm((prev) => ({ ...prev, [name]: value }));
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          if (!form.ownerName || !form.phone || !form.location) {
            alert("Please fill at least name, phone, and location.");
            return;
          }
          setSubmissions((prev) => [
            {
              id: Date.now(),
              ...form,
            },
            ...prev,
          ]);
          setForm({
            ownerName: "",
            phone: "",
            propertyType: "",
            location: "",
            price: "",
            bedrooms: "",
            bathrooms: "",
            notes: "",
          });
          alert(
            "Your property has been submitted successfully. Our team will review it shortly."
          );
        };

        return (
          <div className="min-h-screen flex flex-col">
            {/* Header */}
            <header className="bg-brand-primary text-white">
              <div className="max-w-5xl mx-auto px-4 py-4 flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <div className="w-9 h-9 rounded-full bg-brand-secondary flex items-center justify-center text-white font-bold">
                    BY
                  </div>
                  <div>
                    <h1 className="text-xl font-bold tracking-tight">
                      By Owner
                    </h1>
                    <p className="text-xs text-gray-300">
                      El Marakibji Properties – Direct Listings
                    </p>
                  </div>
                </div>
                <span className="text-xs md:text-sm text-gray-300">
                  For internal review & publishing only
                </span>
              </div>
            </header>

            {/* Hero / Intro */}
            <section className="bg-white border-b border-gray-200">
              <div className="max-w-5xl mx-auto px-4 py-8 md:py-10 grid gap-6 md:grid-cols-2 items-center">
                <div>
                  <h2 className="text-2xl md:text-3xl font-extrabold text-brand-primary mb-3">
                    Submit your property directly to El Marakibji
                  </h2>
                  <p className="text-gray-700 mb-4">
                    This secure form lets property owners send their listing
                    details for review. Our team will verify the information and
                    contact you before publishing it on our platforms.
                  </p>
                  <ul className="text-sm text-gray-700 space-y-1 list-disc list-inside">
                    <li>No public posting – review first.</li>
                    <li>We may contact you via WhatsApp for photos & documents.</li>
                    <li>Your data is handled confidentially.</li>
                  </ul>
                </div>
                <div className="hidden md:block">
                  <div className="rounded-2xl bg-brand-secondary/10 border border-brand-secondary/30 p-4">
                    <p className="text-sm text-brand-dark font-medium mb-2">
                      What you’ll need:
                    </p>
                    <ul className="text-sm text-gray-800 space-y-1 list-disc list-inside">
                      <li>Owner name & contact number</li>
                      <li>Property location & type</li>
                      <li>Approximate area & asking price (if known)</li>
                      <li>Basic specs (bedrooms, bathrooms, parking…)</li>
                    </ul>
                    <p className="mt-3 text-xs text-gray-600">
                      You can always send us photos, title deed, and videos later
                      on WhatsApp once we contact you.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            {/* Main content */}
            <main className="flex-1 bg-brand-light">
              <div className="max-w-5xl mx-auto px-4 py-8 grid gap-8 md:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]">
                {/* Submission Form */}
                <section className="bg-white rounded-2xl shadow-sm border border-gray-200 p-5 md:p-6">
                  <h3 className="text-lg font-semibold text-brand-primary mb-1">
                    Property submission form
                  </h3>
                  <p className="text-xs text-gray-600 mb-4">
                    Fill as much as you know — we’ll clarify the rest with you.
                  </p>

                  <form onSubmit={handleSubmit} className="space-y-4 text-sm">
                    <div className="grid gap-4 md:grid-cols-2">
                      <div>
                        <label className="block mb-1 font-medium">
                          Owner full name *
                        </label>
                        <input
                          type="text"
                          name="ownerName"
                          value={form.ownerName}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                          required
                        />
                      </div>
                      <div>
                        <label className="block mb-1 font-medium">
                          Phone / WhatsApp *
                        </label>
                        <input
                          type="tel"
                          name="phone"
                          value={form.phone}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                          placeholder="+961..."
                          required
                        />
                      </div>
                    </div>

                    <div className="grid gap-4 md:grid-cols-2">
                      <div>
                        <label className="block mb-1 font-medium">
                          Property type
                        </label>
                        <select
                          name="propertyType"
                          value={form.propertyType}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                        >
                          <option value="">Select type</option>
                          <option>Apartment</option>
                          <option>Duplex</option>
                          <option>Villa / House</option>
                          <option>Land</option>
                          <option>Commercial</option>
                          <option>Other</option>
                        </select>
                      </div>
                      <div>
                        <label className="block mb-1 font-medium">
                          Location (area, city) *
                        </label>
                        <input
                          type="text"
                          name="location"
                          value={form.location}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                          placeholder="Example: Mar Elias, Beirut"
                          required
                        />
                      </div>
                    </div>

                    <div className="grid gap-4 md:grid-cols-3">
                      <div>
                        <label className="block mb-1 font-medium">Bedrooms</label>
                        <input
                          type="number"
                          min="0"
                          name="bedrooms"
                          value={form.bedrooms}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                        />
                      </div>
                      <div>
                        <label className="block mb-1 font-medium">Bathrooms</label>
                        <input
                          type="number"
                          min="0"
                          name="bathrooms"
                          value={form.bathrooms}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                        />
                      </div>
                      <div>
                        <label className="block mb-1 font-medium">
                          Asking price (optional)
                        </label>
                        <input
                          type="text"
                          name="price"
                          value={form.price}
                          onChange={handleChange}
                          className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                          placeholder="USD or LBP"
                        />
                      </div>
                    </div>

                    <div>
                      <label className="block mb-1 font-medium">
                        Extra details
                      </label>
                      <textarea
                        name="notes"
                        value={form.notes}
                        onChange={handleChange}
                        rows="4"
                        className="w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-secondary"
                        placeholder="Floor, building name, view, parking, title deed status, generator, water, any notes…"
                      ></textarea>
                    </div>

                    <button
                      type="submit"
                      className="mt-2 inline-flex items-center justify-center rounded-full bg-brand-secondary px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-secondary focus:ring-offset-2"
                    >
                      Submit property to El Marakibji
                    </button>
                  </form>
                </section>

                {/* Submissions list (for you to review) */}
                <section className="space-y-3">
                  <div className="flex items-center justify-between">
                    <h3 className="text-sm font-semibold text-brand-primary">
                      Latest submissions (local to this browser)
                    </h3>
                    <span className="text-xs text-gray-500">
                      Not synced – just for your view
                    </span>
                  </div>

                  {submissions.length === 0 ? (
                    <div className="text-xs text-gray-500 bg-white rounded-2xl border border-dashed border-gray-300 p-4">
                      No properties submitted in this browser yet. Once someone
                      fills the form, you’ll see a summary card here.
                    </div>
                  ) : (
                    <div className="space-y-3">
                      {submissions.map((p) => (
                        <article
                          key={p.id}
                          className="bg-white rounded-2xl border border-gray-200 p-4 text-sm"
                        >
                          <div className="flex justify-between items-start gap-3">
                            <div>
                              <h4 className="font-semibold text-brand-primary mb-1">
                                {p.propertyType || "Property"} –{" "}
                                {p.location || "Location not specified"}
                              </h4>
                              <p className="text-xs text-gray-600 mb-1">
                                Owner: <span className="font-medium">{p.ownerName}</span> ·{" "}
                                {p.phone}
                              </p>
                              {p.price && (
                                <p className="text-xs text-brand-dark mb-1">
                                  Asking price: {p.price}
                                </p>
                              )}
                              <p className="text-xs text-gray-600">
                                {p.bedrooms && `${p.bedrooms} BR · `} 
                                {p.bathrooms && `${p.bathrooms} BA`}
                              </p>
                            </div>
                            <span className="text-[10px] px-2 py-1 rounded-full bg-brand-secondary/10 text-brand-dark">
                              New
                            </span>
                          </div>
                          {p.notes && (
                            <p className="mt-2 text-xs text-gray-700 whitespace-pre-wrap">
                              {p.notes}
                            </p>
                          )}
                        </article>
                      ))}
                    </div>
                  )}
                </section>
              </div>
            </main>

            {/* Footer */}
            <footer className="border-t border-gray-200 bg-white">
              <div className="max-w-5xl mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between gap-2">
                <p className="text-xs text-gray-500">
                  © {new Date().getFullYear()} El Marakibji İç ve Dış Tic. Ltd. Şti. – Internal
                  “By Owner” submission form.
                </p>
                <p className="text-xs text-gray-500">
                  Built for internal use. Data is reviewed manually before any
                  public publishing.
                </p>
              </div>
            </footer>
          </div>
        );
      }

      const container = document.getElementById("root");
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    </script>
  </body>
</html>
